{"version":3,"file":"static/js/38.61b8fdcc.chunk.js","mappings":"2LACA,EAA0B,sBAA1B,EAAiE,6BAAjE,EAA0G,wB,8EC2F1G,MA7EA,WACE,IAAMA,GAAWC,EAAAA,EAAAA,MACXC,GAAUC,EAAAA,EAAAA,IAAYC,EAAAA,IACtBC,GAAYF,EAAAA,EAAAA,IAAYG,EAAAA,IACxBC,GAAcJ,EAAAA,EAAAA,IAAYK,EAAAA,IAC1BC,GAAYN,EAAAA,EAAAA,IAAYO,EAAAA,IAC9BC,GAAwCC,EAAAA,EAAAA,UAASV,GAAQW,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAlDI,EAAYF,EAAA,GAAEG,EAAeH,EAAA,GAkDpC,OAhDAI,EAAAA,EAAAA,YAAU,WACRjB,GAASkB,EAAAA,EAAAA,OACTlB,GAASmB,EAAAA,EAAAA,GAAU,CAAEC,WAAW,EAAOC,KAAM,EAAGC,MAAO,KACzD,GAAG,CAACtB,KA8CFuB,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,CACGhB,IAAaiB,EAAAA,EAAAA,KAACC,EAAAA,EAAM,KACrBD,EAAAA,EAAAA,KAAA,WAASE,UAAWC,EAAYJ,UAC9BF,EAAAA,EAAAA,MAAA,OAAKK,UAAWC,EAAmBJ,SAAA,EACjCC,EAAAA,EAAAA,KAACI,EAAAA,EAAU,CAACC,SA5CpB,SAAyBC,EAAOC,EAAOC,EAAaC,GAClD,IAAIC,EAAalC,EAAQmC,QAAO,SAAAC,GAC9B,QACIN,GAASM,EAAIC,KAAKC,gBAAkBR,MACpCC,GAASK,EAAIG,YAAYC,QAAQ,IAAK,KAAOT,MAC7CC,GAAeI,EAAIK,SAAWT,EAAYQ,QAAQ,IAAK,QACvDP,GAAaG,EAAIK,SAAWR,EAAUO,QAAQ,IAAK,IAEzD,IACKV,GAAUC,GAAUC,GAAgBC,IACvCC,EAAalC,GAGfc,EAAgBoB,EAClB,KA+BQV,EAAAA,EAAAA,KAACkB,EAAAA,EAAO,CAACC,KAAM9B,KACbR,IACAmB,EAAAA,EAAAA,KAAA,UACEoB,KAAK,SACLC,QArDZ,WACE/C,GAASmB,EAAAA,EAAAA,GAAU,CAAEC,UAAWb,EAAac,KAAMhB,EAAWiB,MAAO,KACvE,EAoDYM,UAAWC,EAAcJ,SAC1B,qBAQb,C","sources":["webpack://rent-cars-redux/./src/pages/Cars/Cars.module.css?bd48","pages/Cars/Cars.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"section\":\"Cars_section__NFY4O\",\"cars_container\":\"Cars_cars_container__Qn9vK\",\"load_more\":\"Cars_load_more__beQBS\"};","import { ChooseForm } from 'components/ChooseForm/ChooseForm';\nimport css from './Cars.module.css';\nimport { CarList } from 'components/CarList/CarList';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useEffect, useState } from 'react';\nimport {\n  selectCars,\n  selectCompleted,\n  selectPage,\n  selectisLoading,\n} from 'app/features/cars/selectors';\nimport { fetchCars } from 'app/features/cars/car-operations';\nimport { removePage } from 'app/features/cars/carSlice';\nimport { Loader } from 'components/Loader/Loader';\n\nfunction Cars() {\n  const dispatch = useDispatch();\n  const carList = useSelector(selectCars);\n  const statePage = useSelector(selectPage);\n  const isCompleted = useSelector(selectCompleted);\n  const isLoading = useSelector(selectisLoading);\n  const [filteredCars, setFilteredCars] = useState(carList);\n\n  useEffect(() => {\n    dispatch(removePage());\n    dispatch(fetchCars({ complited: false, page: 1, limit: 12 }));\n  }, [dispatch]);\n\n  function handleLoadMore() {\n    dispatch(fetchCars({ complited: isCompleted, page: statePage, limit: 12 }));\n  }\n\n  function handleChooseCar(brand, price, mileageFrom, mileageTo) {\n    let chooseCars = carList.filter(car => {\n      return (\n        (!brand || car.make.toLowerCase() === brand) &&\n        (!price || car.rentalPrice.replace('$', '') <= price) &&\n        (!mileageFrom || car.mileage >= mileageFrom.replace(',', '')) &&\n        (!mileageTo || car.mileage >= mileageTo.replace(',', ''))\n      );\n    });\n    if (!brand && !price && !mileageFrom && !mileageTo) {\n      chooseCars = carList;\n    }\n    // console.log(chooseCars.map(car => car.make));\n    setFilteredCars(chooseCars);\n  }\n\n  // function handleChooseCar(brand, price, mileageFrom, mileageTo) {\n  //   let chooseCars = carList.filter(car => {\n  //     if (brand && car.make.toLowerCase() !== brand.toLowerCase()) {\n  //       return false;\n  //     }\n  //     if (price && parseInt(car.rentalPrice.replace('$', '')) > price) {\n  //       return false;\n  //     }\n  //     if (mileageFrom && parseInt(car.mileage) < mileageFrom.replace(',', '')) {\n  //       return false;\n  //     }\n  //     if (mileageTo && parseInt(car.mileage) > mileageTo.replace(',', '')) {\n  //       return false;\n  //     }\n  //     return true;\n  //   });\n  //   if (!brand && !price && !mileageFrom && !mileageTo) {\n  //     chooseCars = carList;\n  //   }\n  //   console.log(chooseCars.map(car => car.make));\n  //   setFilteredCars(chooseCars);\n  // }\n\n  return (\n    <>\n      {isLoading && <Loader />}\n      <section className={css.section}>\n        <div className={css.cars_container}>\n          <ChooseForm onSubmit={handleChooseCar} />\n          <CarList cars={filteredCars} />\n          {!isCompleted && (\n            <button\n              type=\"button\"\n              onClick={handleLoadMore}\n              className={css.load_more}\n            >\n              Load more\n            </button>\n          )}\n        </div>\n      </section>\n    </>\n  );\n}\nexport default Cars;\n"],"names":["dispatch","useDispatch","carList","useSelector","selectCars","statePage","selectPage","isCompleted","selectCompleted","isLoading","selectisLoading","_useState","useState","_useState2","_slicedToArray","filteredCars","setFilteredCars","useEffect","removePage","fetchCars","complited","page","limit","_jsxs","_Fragment","children","_jsx","Loader","className","css","ChooseForm","onSubmit","brand","price","mileageFrom","mileageTo","chooseCars","filter","car","make","toLowerCase","rentalPrice","replace","mileage","CarList","cars","type","onClick"],"sourceRoot":""}